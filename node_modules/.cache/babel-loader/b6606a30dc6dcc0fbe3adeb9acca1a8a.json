{"ast":null,"code":"import _toConsumableArray from \"/Users/jenniferpierce/Code/closet app/closetchart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"/Users/jenniferpierce/Code/closet app/closetchart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jenniferpierce/Code/closet app/closetchart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jenniferpierce/Code/closet app/closetchart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jenniferpierce/Code/closet app/closetchart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jenniferpierce/Code/closet app/closetchart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/jenniferpierce/Code/closet app/closetchart/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/jenniferpierce/Code/closet app/closetchart/src/pages/closet/Closet.js\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport { compose } from 'redux';\nimport { firestoreConnect } from 'react-redux-firebase';\nimport { Link } from 'react-router-dom';\nimport NavTabMenu from 'components/nav/NavTabMenu';\nexport var Closet =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Closet, _React$Component);\n\n  function Closet() {\n    var _this;\n\n    _classCallCheck(this, Closet);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Closet).call(this));\n    _this.showCategory = _this.showCategory.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      selectedCategory: 'everything'\n    };\n    return _this;\n  }\n\n  _createClass(Closet, [{\n    key: \"showCategory\",\n    value: function showCategory(category) {\n      this.setState({\n        selectedCategory: category\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var garments = [];\n\n      if (this.props.garments && this.props.garments.length) {\n        garments = this.props.garments.map(function (garment) {\n          if (_this2.state.selectedCategory == 'everything' || garment.category === _this2.state.selectedCategory) {\n            var image;\n\n            if (_this2.props.images && _this2.props.images.length) {\n              image = _this2.props.images.find(function (image) {\n                return image.id === garment.imageID;\n              });\n            }\n\n            if (image) {\n              return (// Closet can render garments with different editing options\n                // depending on the page.  For example, from main closet page,\n                // user wants to delete garment or edit category; from capsule\n                // editor, user wants to add garment to capsule.\n                //\n                // Pass a specialized garment component with the desired\n                // editing options as a render prop to <Closet />.\n                // See <ClosetGarment /> for an example.\n                _this2.props.render(garment, image)\n              );\n            }\n          }\n        });\n      }\n\n      var categories = [];\n\n      if (this.props.categories) {\n        categories = ['everything'].concat(_toConsumableArray(this.props.categories.labels));\n      }\n\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }, React.createElement(NavTabMenu, {\n        active: this.state.selectedCategory,\n        categories: categories,\n        callback: this.showCategory,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      }), garments);\n    }\n  }]);\n\n  return Closet;\n}(React.Component);\nCloset.propTypes = {};\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    uid: state.firebase.auth.uid,\n    categories: state.firestore.ordered.categories ? state.firestore.ordered.categories[0] : null,\n    garments: state.firestore.ordered.garments,\n    images: state.firestore.ordered.images\n  };\n};\n\nexport default compose(connect(mapStateToProps, null, null, {\n  pure: false\n}), firestoreConnect())(Closet);","map":{"version":3,"sources":["/Users/jenniferpierce/Code/closet app/closetchart/src/pages/closet/Closet.js"],"names":["React","PropTypes","connect","compose","firestoreConnect","Link","NavTabMenu","Closet","showCategory","bind","state","selectedCategory","category","setState","garments","props","length","map","garment","image","images","find","id","imageID","render","categories","labels","Component","propTypes","mapStateToProps","uid","firebase","auth","firestore","ordered","pure"],"mappings":"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","sourcesContent":["import React from 'react'\nimport PropTypes from 'prop-types'\nimport { connect } from 'react-redux'\nimport { compose } from 'redux'\nimport { firestoreConnect } from 'react-redux-firebase'\nimport { Link } from 'react-router-dom'\n\nimport NavTabMenu from 'components/nav/NavTabMenu'\n\nexport class Closet extends React.Component {\n  static propTypes = {}\n\n  constructor () {\n    super()\n\n    this.showCategory = this.showCategory.bind(this)\n\n    this.state = {\n      selectedCategory: 'everything'\n    }\n  }\n\n  showCategory (category) {\n    this.setState({selectedCategory: category})\n  }\n\n  render () {\n    let garments = []\n    if (this.props.garments && this.props.garments.length) {\n      garments = this.props.garments.map(garment => {\n        if (this.state.selectedCategory == 'everything' ||\n          garment.category === this.state.selectedCategory) {\n          let image\n          if (this.props.images && this.props.images.length) {\n            image = this.props.images.find(image => image.id === garment.imageID)\n          }\n          if (image) {\n            return (\n              // Closet can render garments with different editing options\n              // depending on the page.  For example, from main closet page,\n              // user wants to delete garment or edit category; from capsule\n              // editor, user wants to add garment to capsule.\n              //\n              // Pass a specialized garment component with the desired\n              // editing options as a render prop to <Closet />.\n              // See <ClosetGarment /> for an example.\n              this.props.render(garment, image)\n            )\n          }\n        }\n      })\n    }\n\n    let categories = []\n    if (this.props.categories) {\n      categories =  ['everything', ...this.props.categories.labels]\n    }\n\n    return (\n      <div>\n        <NavTabMenu\n          active={this.state.selectedCategory}\n          categories={categories}\n          callback={this.showCategory}/>\n        { garments }\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => ({\n  uid: state.firebase.auth.uid,\n  categories: state.firestore.ordered.categories ?\n    state.firestore.ordered.categories[0] :\n    null,\n  garments: state.firestore.ordered.garments,\n  images: state.firestore.ordered.images\n})\n\nexport default compose(\n  connect(mapStateToProps, null, null, {pure: false}),\n  firestoreConnect()\n)(Closet)\n"]},"metadata":{},"sourceType":"module"}